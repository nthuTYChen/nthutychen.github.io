<!DOCTYPE HTML>
<html lang="en">
	<head>
		<title>Bilingual Web Design@DFLL NTHU; Tsung-Ying Chen</title>
		<link rel="stylesheet" href="/css/style.css">
		<script src="/js/jquery-3.2.1.min.js"></script>
		<meta charset="UTF-8">
	</head>
	<body>
		<nav>
			<h2>
				<a href="/bwd/">Intro</a>
				<a href="/bwd/htmlbasics/">HTML Basics</a>
				<a href="/bwd/cssbasics/">CSS Basics</a>
				<a class="selected" href="/bwd/jsbasics/">JS Basics</a>
				<a href="/bwd/jquery/">jQuery</a>
				<a href="/bwd/webanimation/">Web Animation</a>
				<a href="/bwd/mobile/">Mobile First</a>
				<a href="/bwd/analysisdemo/">Analysis Demo</a>
				<a href="/bwd/engissues/">English Issues</a>
				<a href="/bwd/students/">Students</a>
			</h2>
		</nav>
		<div class="container">
			<article>
				<h1>4. JavaScript Basics</h1>
				<p>It's an oxymoron - learning how to do computer programming without worrying too much about computer programming.</p>
				<p><a href="#beforewestart">Before we start...</a> / <a href="#overview">An overview</a> / <a href="#jssyntax">JavaScript syntax, a breakdown</a> / <a href="#variable">Variable</a> / <a href="#arrayobj">Array and object</a> / <a href="#function">Function (Method)</a> / <a href="#interface">Accessing an HTML document</a> / <a href="#event">Event and interaction</a> / <a href="#ifelse">If...else...</a> / <a href="#loop">Loop</a> / <a href="#form"> Form, submit, and reset / <a href="#forthenextunit">For the next unit...</a></p>
				<section>
					<h2 id="beforewestart">Before we start...</h2>
					<ol>
						<li>Let me talk about some more English issues in your writing.</li>
						<li>I would like to highlight a few websites that seem to show a very good progress.</li>
					</ol>
				</section>
				<section>
					<h2 id="overview">An overview</h2>
					<picture>
						<img src="img/shaking.png"/>
						<sub>Credit: <a href="http://koniart02.tuzikaze.com/bn-59.html" target="blank">Koniart</a></sub>
					</picture>
					<p>For many people new to this area, <em>computer programming</em> sounds pretty scary. But Web programming is actually <em class="extra">a lot easier</em> than other types of computer programming (quantum computing? Gee...). JavaScript (henceforth, JS) is also very straightforward, and with the foundation you have built in previous tutorials, you should be able to adapt to it very quickly...let along the fact that people have created a more convenient version of JavaScript - jQuery - which you will learn in the next unit.</p>
					<p>Let's begin with some preparation works. First of all, create a <em class="extra">js</em> directory right under a specifc example directory (such as <code>/examples/3-2/js</code>), which should include JS files used only for that specific directory. In your own website projects, you should therefore create different <code>js</code> directory for each website project folders, such as <code>/personal/js</code> and <code>/analysis/js</code>. If you will have any JS codes that apply to both website projects, then maybe you want to create <code>/js</code> in the root directory and place your <em>global</em> JS codes there.</p>
					<p>Let's first create a <code>demo.js</code> file in the <code>js</code> directory in a specific example folder. To allow your webpage to run the JS codes in demo.js, we need to load it to your webpage using the <code>&lt;script&gt;</code> element. Insert the following line to your <code>&lt;head&gt;</code> section of your <em>index.html</em> under your the specific example directory:</p>
					<code>&lt;script src="js/demo.js"&gt;&lt;/script&gt;</code>
					<p>To check if the JS file is embedded correctly into the webpage, add the following line to your <em>demo.js</em>:</p>
					<code>alert('embedded!');</code>
					<p>After you update your website and reload the index page, you should be able to see a pop-up message showing the message <em class="extra">embedded!</em>.</p>
					<p>And let's go back again to the useful <em class="extra">Developer Tools</em> hidden in your Web browser, and this time look at the <em class="extra">Console</em> tab:</p>
					<picture>
						<img src="img/devtools.png"/>
					</picture>
					<p>When we try to <em class="extra">debug</em> your JS codes, you will be using this part of the tools a lot. I mean, <em>A LOT</em>. Let's see how it works. Now, add the following line to your <em>demo.js</em>:</p>
					<code>console.log('logged!');</code>
					<p>Again, update your website and reload the index page - in addition to the same pop-up message, you should see the new message in the Console tab of your Developer Tools.</p>
					<p>If everything goes as expected, then you are ready for your journey of JS programming!</p>
				</section>
				<section>
					<h2 id="jssyntax">JavaScript syntax, a breakdown</h2>
					<p>The codes you will see in a JS file could be in general categorized into two types - <em class="extra">statement</em> and <em class="extra">code blocks</em>. We have seen some <em>statements</em> when we were preparing for our JS programming above, one of which is repeated here:</p>
					<code>alert('embedded!');</code>
					<p>This is a simplified statement that will be translated in an order by a Web browser as <q>show a pop-up message 'embedded!' in the browser window!</q>. The most important thing about a statement in a JS file is that it ends with a <em class="extra">semi-colon</em> <code>;</code>, which indicates <em>the end</em> of a statement. Interestingly, if you remove the semi-colon from the statement above, you'll still see the pop-up message. This does not suggest that the semi-colon is not important - it's just that your Web browser is smart enough to ignore the mistake you make.</p>
					<p>A good example showing the importance of semi-colon in a statement is to put the two statements we used above in the same line as:</p>
					<code>alert('embedded!'); console.log('logged!');</code>
					<p>Not only will you see the same pop-up message again, you will also see the text message in the console tab of your Developer Tools. This means that statements are processed based on the ending indicated by semi-colons, rather than by separate lines - of course, we still put individual statements in separate lines for <em>a better readibility</em>. So, <em>always</em> add a semi-colons at the end of a statement.</p>
					<p>A <em>code block</em> is just a collection of statements represented with a pair of curved brackets <code>{ }</code>. We have seen the adoption of this concept in the CSS tutorials, in which curved brackets include a collection of CSS properties, and we will extend this concept to <em>objects</em> when we get to <a href="#variable">Variable</a> part. In the following example, we have a code block containing the two statements introduced previously:</p>
					<code>
						{
							<code>
								alert('embedded!');<br/>
								console.log('logged!');<br/>
							</code>
						}
					</code>
					<p>We need to use code blocks from time to time in special occassions: Repeat the same statements for multiple times (see <a href="#loop">Loop</a>), run different sets of statements  when different conditions are met (see <a href="#ifelse">If...else...</a>), etc. So code block is just very convenient for programmers. Again, the tradition is to have each statement <em class="extra">indented from the left edge</em> when it is included in a code block to better show where it belongs, and this is why a good editor like Sublime Text also does this for you automatically in a JS file. If you align all statements to the left edge, it won't matter; the statements will still be processed normally by Web browsers. It just creates a mess for you (and your partners in a collaborative project).</p>
					<p>The most frequent type of statements you probably will write and see would involve some <em>operator</em> <code>=</code>, as in the following line:</p>
					<code>num = 5;</code>
					<p>This <code>= (equal)</code> operator assigns the value to its right (<em>5</em>) to a container named <em>num</em> to its left. More details about this process will be given in the <a href="#variable">Variable</a> section below, but my point here is to bring up another <em>tradition</em> in coding that is not specific to JS. That is, when there's an operator in a statement, we tend to leave a space on both sides of it, again for a <em>better readibility</em> of your codes. You can remove the spaces and will find the processing of your codes unaffected, but it's not as clear in your text editor.</p>
					<p>Finally, as in the case of HTML and CSS, you can also add some notes in your JS file using <code>//</code> or <code>/**/</code>. By adding <code>//</code> before some texts in a JS file, the texts after <code>//</code> in the same line are treated as a <em>comment</em>, rather than part of JS codes:</p>
					<p><code>// This is a comment!</code></p>
					<p>We also frequently use <code>//</code> to <em>temporarily</em> comment out a statement when debugging our codes:</p>
					<code>
						//No more pop-up message!<br/>
						//alert('embedded!');<br/>
						console.log('logged!');
					</code>
				</section>
				<section>
					<h2 id="variable">Variable</h2>
					<picture>
						<img src="img/cart.png"/>
						<sub>Credit: <a href="https://www.flickr.com/photos/polycart/5395209587/" target="blank">Polycart</a></sub>
					</picture>
					<p>When you do grocery shopping, you don't go back and forth between shelves and the casher. Instead, you get a basket or a cart with you. You grab goods on the shelves and put them into your basket/cart. Later, you would simply check your container to see the number of things there, and you don't have to go back to every corner in the grocery store to count how many times you grab things from the shelves. Of course, you could change the things in your container freely, but still, you only need to count the number of things in that container.</p>
					<p>All programming languagues have such a container for storing information, from which you can re-use the information easily - it's called <em class="extra">variable</em>. In JS, you can use the keyword <code>var</code> to declare a variable, as in the following example:</p>
					<code><p>var num; // Declare a variable named "num"</p></code>
					<p>And we can put things into the container (I mean, variable) with the <code>=</code> operator introduced in the previous section:</p>
					<code><p>var num = 5; // Declare a variable named "num" equal to a numeric value of 5</p></code>
					<p>If you have multiple variables to declare, you don't need an individual statement for each variable. Instead, you can declare them altogether after <code>var</code>, and separate every variables with a comma <code>,</code>:</p>
					<code>var x = 10, y = 20, z = 40;</code>
					<p>It's also possible to declare a variable first without assigning its value, mostly because the value will be assigned in other statements later. In this case, the variable has a <code>undefined</code> value, since it's value is not defined just yet:</p>
					<code>var undefinedVar; // This variable has a "undefined" value</code>
					<p>Let's try to print the value of both variables in the console tab of our Developer Tools to verify my claims:</p>
					<code>
						console.log(num); // Print the value of "num"<br/>
						console.log(undefinedVar); // Print the value of "undefinedVar"
					</code>
					<p>Now, if someone start a conversation with you by saying <q>Did I tell you I love him so much?</q>, your first question would naturally be <q>Who the hell is <em>him</em>?</q>. Your question stems from the fact the referent of the pronoun is <em>not defined</em> in the conversational context. Similarly, in JS you cannot have access to the value of a variable without declaring the variable in your code, so you will get a <em class="extra">reference error</em>:</p>
					<code>
						console.log(him); // Who the hell is "him"? - Reference Error<br/>
					</code>
					<p>Intriguingly, if you declare the variable with <code>var</code> <em>after</em> it is accessed, there's no <em>reference error</em> - you only get <em>undefined</em>:</p>
					<code>
						console.log(him); // Still undefined, but no reference error<br/>
						var him = 'Mike';
					</code>
					<p>This is because variable declaration is always <em class="extra">hoisted</em> in JS, and the above code is automatically interpreted as follows - the variable can be found since the hoisting of <code>var him</code>, but its content is still not defined when it is accessed in <code>console.log()</code>:</p>
					<code>
						var him; // Hoisted variable declaration<br/>
						console.log(him); // There is the container, but the content is still not defined<br/>
						him = 'Mike';
					</code>
					<p>But why would you want to stupidly declare a variable <em>after</em> it is accessed in your codes? The best practice is to <em class="extra">always declare your variables first</em> in the entire script or in a code block (see <em>var vs. let</em> below), whether they are assigned a value right away.</p>
					<p>Once you have declared a variable with <code>var</code>, you can always assign a new value to it later without <code>var</code>:</p>
					<code>
						var newVal = 0; // Declare a new variable with a value 0<br/>
						console.log(newVal); // Output = 0<br/>
						newVal = 5; // Assign a new value<br/>
						console.log(newVal); // Output = 5
					</code>
					<p>You can also freely assign a value of a different type (for instance, a string, see below) to a declared variable, but it's going to be a <em>very bad practice</em>. A variable is usually created to serve a particular function, such as storing the name of a user, the type of the user's browser, the time the user spends on your website, etc., so it's usually not the case in which you need a variable to store both a numeric value and certain text info. And that's why we need a logical sense of naming.</p>
					<h3>The sense/rules of variable naming</h3>
					<p>When you declare a variable, it is also important give your variable a semantically meaningful name. In the above example, my first variable is named <code>num</code> because...it's assigned a numeric value. The second one is <code>nullVar</code> because it is not assigned any value. This logic is similar to those applied to the use of HTML elements - to be <em class="extra">semantically meaningful</em>. No one would stop you using random variable names like x, y, z, etc., but later you would have a hard time recalling the meaning of these variables. In addition to the above guideline, there are some more rules that you must be aware of before moving on:</p>
					<ul>
						<li><em>A variable name cannot include any space</em>, so when I need to combine multiple words for a meaningful variable name, I always capitalize the first letter of a word in the name to make it more readible, just like the <code>nullVar</code> variable above.</li>
						<li><em>A variable name cannot start with a digit letter</em>, so a variable name like <code>1stVar</code> won't work.</li>
						<li><em>Most symbols are reserved for special use</em>, like the operators <code>=</code>, <code>+</code>, etc. The best way to avoid this problem is not to have any symbol in your variable name.</li>
						<li><em>There is also a list of reserved words</em>, like the <code>var</code> keyword, which cannot be used as a variable name. See a complete list on this <a href="https://www.w3schools.com/js/js_reserved.asp" target="blank">W3CSchool page</a>.</li>
					</ul>
					<p>Interestingly, you can use weird Unicode characters in your variable name, like <em>ಠ_ಠ</em>:</p>
					<code>
						var ಠ_ಠ = 'Raise my eyebrow'; // Declare a variable with a weird name<br/>
						console.log(ಠ_ಠ); // You should get the string assigned to it
					</code>
					<p>I would suggest no one to include any special Unicode characters in your variable names - imagine how emoticons could annoy other people trying to read your codes, for instance. Just use the regular English alphabet. If you have any conern over your variable names, you can check their validity on <a href="https://mothereff.in/js-variables" target="blank">this page</a>.</p>
					<p>Lastly, I would like to remind you that everything in JS are <em class="extra">case-sensitive</em>:</p>
					<code>
						var num = 5;<br/>
						var Num = 10;<br/>
						console.log(num); // It's impossible to be 10<br/>
						console.log(Num); // It's impossible to be 5
					</code>
					<h3>Number, string, and operators</h3>
					<p>In the above examples, we see how to assign a value to a variable via the operator <code>=</code>, but the assigned value could also be the result of some mathematical calculations using the operators <code>+</code>, <code>-</code>, <code>*</code> (multiply), and <code>/</code> (divide), as in the following cases:</p>
					<code>
						var math1 = 2 + 5;<br/>
						var math2 = 3 * 4.5;<br/>
						var math3 = 1 - 5 * 40;
					</code>
					<p>Crucially, your formula can include other variables that are assigned a value <em class="extra">earlier</em>:</p>
					<code>
						var num = 5;<br/>
						var newNum = 4 + num;
					</code>
					<p>So far, the focus has been on variables that are assigned a numeric value, but of course we have many different types of data that can be stored into a variable. The data type we will be using a lot in JS, especially when we need to make our webpages interactive, is <em class="extra">string</em>. In JS, a string must be enclosed inside a pair of single/double quotation marks, as in the following example:</p>
					<code>var stringVar = 'Here is a string!';</code>
					<p>Whether you use single or double quotation marks doesn't really matter, as long as you are <em>consistent</em>. You can't have a single quotation mark on the one side but a double quotation mark on the other:</p>
					<code>var wrongStringVar = <em>'</em>This will not work!<em>"</em>; /* You will see some error message in the console */</code>
					<p>I prefer to use <em>single</em> quotation mark just because it's easier to type (you need <em>shift + '</em> to get a double quotation mark). Yes, I'm just a lazybone. The only minor issue that you might encounter is when your string also has some single quotation marks. In this case, you need to add a <em class="extra">backslash</em> <code>\</code> before each special symbol to <em>escape</em> the character (namely, to tell a Web browser that this single quotation mark should be treated as a regular character, not a special symbol):</p>
					<code>var stringWithQuote = 'Here<em>\</em>'s a single quotation mark!';</code>
					<p>In JS, you could also easily combine numeric and string values as a <em>string</em> using the <code>+</code> operator:</p>
					<code>
						console.log('A number: '+5); // Output = 'A number 5';<br/>
						var num = 5;<br/>
						var str = 'A number ';<br/>
						console.log(str+num); // The output is the same;
					</code>
					<p>Let's have a small test here - what is the value of the two variables <code>test1</code> and <code>test2</code> below?</p>
					<code>
						var test1 = 'Value: ' + 5 + 10;<br/>
						var test2 = 'Value: ' + 5 * 10;
					</code>
					<p>Of course, it is not possible to use other operators for numeric and string values:</p>
					<code>
						var wrongVar = 'Value ' * 5; // What is this supposed to mean anyway?<br/>
						var cantDoThis = 'Get rid of A' - 'A'; // Nope. You can't take out a string in this way.
					</code>
					<p>The distiction between numeric and string values are particularly important for digit letters 0-9; when digits are enclosed inside quotation marks, they are viewed as a string, rather a numeric sequence:</p>
					<code>
						var numAsNum = 5; // A numeric value 5 is assigned to "numAsNum"<br/>
						var numAsStr = '5'; // A string value '5' is assigned to "numAsStr"<br/>
						console.log(numAsNum + numAsStr); // The output is a string '55', not a numeric value 10
					</code>
					<p>It is always possible to convert a string composed of digits into a numeric value with two JS functions <code>parseInt()</code> and <code>Number()</code> (we will get to the function section pretty soon). The main difference is that <code>parseInt()</code> always round the target number:</p>
					<code>
						var strNum1 = '11.99';<br/>
						console.log(1 + strNum1); // Output = '111.99'<br/>
						strNum1 = parseInt(strNum1); // Convert the value of "strNum1" in to a numeric value assigned to "strNum1"<br/>
						console.log(1 + strNum1); // Output = 12
					</code>
					<h3>var vs. let</h3>
					<p>So far, I have only talked about one way of declaring a new variable, which is to use the keyword <code>var</code>. But there's also another way, which is to use the keyword <code>let</code>:</p>
					<code>
						var x = 5;<br/>
						let y = 10;
					</code>
					<p>The difference lies in the <em>scope</em> of the variables. When you declare a variable using <code>var</code>, it's scope is <em>global</em>, which means that the variable could be accessed in the entire script. When you declare a variable using <code>let</code>, its scope is limited within a <em>code block</em> represented with a pair of curly parentheses <code>{}</code>. To illustrate this point, let's check the example below with two code blocks. In the first block, we declare a variable using <code>var</code> and try to access it out of the code block, we can still retrieve its value because its scope is global. In the second block, we declare a variable using <code>let</code>, and in this case it is not possible to have access to its value outside the block, because the variable's scope is limited to the block.</p>
					<code>
						{<br/>
							<code>var x = 5;</code>
						}<br/>
						console.log(x); // You get 5.<br/><br/>
						{<br/>
							<code>let y = 10;</code>
						}<br/>
						console.log(y); // The variable y cannot be found outside the scope.
					</code>
					<p>So, why is this important? First of all, when writing a program, you always need to know which data you will have to keep all the time, and which is just used momentarily. For the variables that are used momentarily (usually inside a code block), you can just throw them away after the task is done. This way, you will write a <em class="extra">mor efficient</em> program.</p>
				</section>
				<section>
					<h2 id="function">Function (Method)</h2>
					<p>We rely on functions (or something alike) a lot in all kinds of computer programming since sometimes we need to <em>repeat</em> the same process in our program, so we make the process a function and use it whenever necessary without writing the same codes again and again. A JS function can be created with the following syntax:</p>
					<code>
						function name () {<br/>
						<code>// some statements here</code>
						}
					</code>
					<p>First of all, you need the keyword <code>function</code> to create a JS function, which should be followed by the <em>name</em> of the function. After the function name comes with a pair of brackets <code>( )</code>, which would enclose the data <em class="extra">submitted</em> to the function; in our use of <code>console.log</code>, we always submit the data to the function for it to print out the data. It is nevertheless not required for a function to receive any submitted data, as we will see later. After the brackets, we see a pair of curved brackets <code>{ }</code> that defines a <em class="extra">code block</em> (remember this term?) including some statements. Let's add the following example to our JS file:</p>
					<code>
						function actionCompleted () {
						<code>alert('Completed!');</code>
						}
					</code>
					<p>And when we need to call this newly created function, we just need a statement with the function's name plus a pair of brackets <code>( )</code>. Since we don't need to submit any data to this function, nothing has to be put into <code>( )</code>:</p>
					<code>actionCompleted();</code>
					<p>It doesn't matter whether the statement calling a function occurs before or after the function itself; the <code>function</code> part is always <em class="extra">hoisted</em> to the top of your JS code, too. If we follow the logic discussed earlier about variable declaration, then we should develop a habit to put the function codes to the top of our JS file, because it's natural to think that we create them first and then call them later. However, since you might have many complex functions, their codes are going to be lengthy. Plus, they are not used all the time, and what really matters more is the main code. In this case, putting your function codes to the top of your JS file might be in fact bothersome, because most of the time you just want to debug your main code. So, I'll let you decide which works best for you.</p>
					<p>However, if you declare a variable and assign a function to it with <code>var</code>, this declaration and initialization <em class="extra">won't be hoisted</em> to the top, which means that the statement that calls this function must <em>follow</em> the declaration and initialization codes:</p>
					<code>
						actionCompleted(); // You get an error<br/>
						var actionCompleted = function() { // Declare a variable "actionCompleted" and initialize it with a function
						<code>
							alert('Completed!');
						</code>
						}<br/>
						actionComplete(); // Not a problem
					</code>
					<p>To avoid the above complication, I usually use just go with the <em class="extra">hoisting approach</em>.</p>
					<h3>Data transmitted between functions and their calls</h3>
					<p>Just like <code>console.log</code>, we can create a function that receives data as its <em class="extra">parameter(s)</em> from its calls and do something with that data. In our first example, we create a function that can send whatever message it receives, make some changes, and put it into a pop-up message box:</p>
					<code>
						function popupMsg (msg) { // "msg" is the parameter of popMsg()
						<code>
							let finalMsg = 'Site message: ' + msg; // Make some twist<br/>
							alert(finalMsg);
						</code>
						}<br/>
						popupMsg('Test!');<br/>
						popupMsg('Warning!');
					</code>
					<p>In the above example, the function <code>popupMsg</code> is set to receive one data entry, which is given the name <code>msg</code> in this <em>code block</em>. In other words, <code>msg</code> will be the variable name of the data receive by <code>popupMsg</code> <em>only</em> in this function. In <code>popupMsg</code>, I declare another variable <code>finalMsg</code> to store the twist I make for <code>msg</code>. Then, <code>finalMsg</code> is submitted to the <code>alert</code> function to create a pop-up window with the final message in the last statement. After the function code, I call the function twice with two different string values, and two pop-up windows would appear in the order I call the function.</p>
					<p>A function can receive <em>multiple data entries</em>, as long as you separate the names of the variables representing each data entry in the function with a comma <code>,</code> inside <code>( )</code>:</p>
					<code>
						function userMsg (name, msg) {
						<code>
							let finalMsg = name + ' says: ' + msg; // Compose the final msg<br/>
							alert(finalMsg);
						</code>
						}<br/>
						popupMsg('Victor', 'Surprise!');<br/>
						popupMsg('Mary', 'I love Victor!');
					</code>
					<p>To know more about the behavior of a function and a function call, let's assume two possible scenarios. First, you call <code>popupMsg</code>, but nothing is submitted to the function. What would happen?</p>
					<code>popupMsg(); // Call the function without submitting the required data entry</code>
					<p>Second, supposed that you rename <code>userMsg</code> as <code>popupMsg</code>, making it two functions with the same name, but requesting different numbers of data entries. What would happen when you run the two following lines?</p>
					<code>
						popupMsg('Test!');<br/>
						popupMsg('Victor', 'Hey!');
					</code>
					<p>Since you can submit some data to a fuction, a function can also return some data back to where it is called as well, and the keyword is exactly what you expect - <code>return</code>. In the following function <code>complexCalc</code>, it always does a complex calculation based on the two numeric values submitted to it:</p>
					<code>
						function complexCalc (x, y) {
						<code>
							let result = 0; // Declare a variable used to store the result of calculation<br/>
							result = x * y;<br/>
							result = result / (x - y);<br/>
							result = result * y - x;<br/>
							return result; // Return the final outcome
						</code>
						}
					</code>
					<p>Now you can save lots of space without repeating these statements in this function, assuming that you need to do the same calculation for multiple times in your JS codes. But when you call this function, you also need to prepare a variable to store the data the function returns as in the following statement:</p>
					<code>var num = complexCalc(4, 6); // Assign the returned value to a newly declared variable</code>
					<p>One <em>important</em> thing about <code>return</code> is that one a function reach this line, the statements after it won't be executed:</p>
					<code>
						function poorLine () {
						<code>
							let msg = 'test';<br/>
							return msg; // Function stops here<br/>
							alert('Q_Q'); // Not executed
						</code>
						}
					</code>
				</section>
				<section>
					<h2 id="arrayobj">Array and object</h2>
					<picture>
						<img src="img/array.png"/>
					</picture>
					<p>Now let's move on to some more advanced data types - <em>array</em> and <em>object</em>. You could imagine an array of data to be a train, and each carriage is stored with their own data. Maybe just look at the code directly:</p>
					<code>var numArray = [1, 5, 2, 11, 7]; // An array of five numeric values</code>
					<p>In the above example, you see a train of data defined by a pair of <em>square brackets</em> <code>[ ]</code>, in which every two carriages are seperated from each other with a <em>comma</em>. Each carriage has its own value, and the entire train is assigned to the variable <code>numArray</code>. The value in each carriage can be accessed or replaced by specifying the number of the carriage (or more precisely, the <em>index</em> of an array position) in <code>[ ]</code>, starting with <code>0</code> (thus the picture you saw above):</p>
					<code>
						var anArrayValue = numArray[0]; // Get the first value of an array<br/>
						console.log(anArrayValue); // Output = 1<br/>
						anArrayValue = numArray[1]; // Get the second value of the array<br/>
						console.log(anArrayValue); // Output = 5<br/>
						numArray[1] = 18; // Replace the second value of the array with 18<br/>
						console.log(numArray[1]); // Output = 18
					</code>
					<p>Why does the index of an array position start with <code>0</code> not <code>1</code>? I didn't dig very deep into the history, but I have seen on the internet is that <code>0</code> is <em class="extra">the first natural number</em> in math. However, whether <code>0</code> can be considered a natural number seems still to be under heated debate. Another explanation is more computation-oriented, but also a bit more technical - <code>0</code> means <em>this position is not distant from the head of the array in computer memory</em> (see <a href="https://medium.com/@albertkoz/why-does-array-start-with-index-0-65ffc07cbce8" target="_blank">this post</a> for a much clearer explanation). I'm not a mathmatician, neither a computer scientist, so you can do your own research. But things won't change with your complains, so let's deal with it and remember that the index starts with <code>0</code>.</p>
					<p>Again, things are pretty free in JS, so an array in JS can have different types of data in different positions, as in the following example:</p>
					<code>var mixedArray = [1, 'hello!', 'yes!', 9, 87]; // An array with mixed data types</code>
					<p>However, you should not take this feature for granted and always use arrays with different types of data in different positions. Supposed that you use an array to store the profile of a person, the organization might make sense in the first place, but soon you will forget which position stores which part of the profile info:</p>
					<code>var profile = ['TY Chen', 'NTHU', 39, 180, 72]; // Name, Affiliation, Age, Height, Weight </code>
					<p>Instead, an array is best used to store <em class="extra">homogeneous</em> data, that is, data that represent similar info. For instance, if you have multiple phone numbers, you can use an array to store them:</p>
					<code>var phoneNums = [0937149506, 0956771481, 0982982143]; // Don't call any of these!</code>
					<p>When you use an array to store homogeneous data, the index number makes sense - the first phone number, the second phone number, and so on:</p>
					<code>
						phoneNums[0]; // The first phone number<br/>
						phoneNums[1]; // The second phone number<br/>
						...
					</code>
					<p>It is also possible to declare an <em>empty</em> array if the values in it will be determined later. A new value could be inserted by directly specifying the position where the value is stored to:</p>
					<code>
						var emptyArray = []; // Leave nothing in the square brackets<br/>
						emptyArray[0] = 1; // Insert a value 1 to the array's first position<br/>
						console.log(emptyArray[0]); // Output = 1
					</code>
					<p>A quick test: What's the output you will get by running the following codes?</p>
					<code>
						var emptyArray [];<br/>
						emptyArray[1] = 1; // Insert a value 1 to the array's second position<br/>
						console.log(emptyArray[0]); // What's the output?
					</code>
					<p>It would certainly be a rare occassion for you to create an empty array first and insert values by skipping some positions. But since you might make a common mistake (for instance, forget that the first position is <code>0</code>), it's good to know how the above case works.</p>
					<p>The above examples include arrays that have only <em class="extra">one single dimension</em>; since you only need one <em>coordinate</em> to identify the position of a value in it. Since each position can be stored with any type of data, it is possible for each position of a single-dimensional array to contain another single-dimensional array, and the entire array becomes a <em>two-dimensional</em> array:</p>
					<code>
						var multiDArray = [[2, 3, 4], [11, 24, 25], [9, 0, 1]]; // A 3-by-3 2D array<br/>
						console.log(multiDArray[0][1]); // Output = 2<br/>
						console.log(multiDArray[2][0]); // Output = 9
					</code>
					<p>The codes shouldn't be too difficult to understand - the variable <code>multiDArray</code> is declared as a one-dimensional array with <code>[ ]</code>, in which each position is stored with another one-dimensional array with <code>[ ]</code>. When try to access this two-dimensional array, you use two paris of <code>[ ]</code>. The first pair specifies the index of the outer array, as in <code>multiDArray[0]</code>. Since the first position of the outer array is another array, you use the second pair to specify the index of this inner array, as in <code>multiDArray[0][1]</code> - now you have access to the first position of <code>multiDArray</code> and then second position of <code>multiDArray[0]</code>, which gives you the output of <code>2</code>. The same logic applies to <code>multiDArray[2][0]</code>. In Web design, a one-dimensional array would suffice in most cases. For instance, when we retrieve a group of HTML elements from a webpage in JS, they will be presented in a one-dimensional array. Remember, an array is mostly used to store homegeneous data. Before you go for a two-dimensional array or even beyond that, you need to think carefully if you really need this level of <em>coding complexity</em>, or whether using an <em>object</em> will be a better choice.</p>
					<h3>Object-oriented programming</h3>
					<p>An object is suitable for a complex data structure, especially when there's no better way of presenting this complex data structure. Let's go back to our <em>profile</em> example. I have demonstrated why array is not a good container for a profile, since every entry of the profile has different meanings, which are thus not <em>homogeneous</em>. We can declare each entry as a separate variable as in the example below, but not only does the code become lengthy, the relation between these entries is not properly presented:</p>
					<code>
						var name = 'TY Chen';<br/>
						var age = 39;<br/>
						var affiliation = 'NTHU';<br/>
						...
					</code>
					<p>But imagine an array-like container, in which each position can be given a meaningful label, so we can clearly know which position stores which type of data...and then you're talking about <em>object</em>. An object is defined with a pair of <em>curved brackets</em> <code>{ }</code> (still remember <em>code block</em>?), which include <em class="extra">keys</em> and their <em>values</em>:</p>
					<code>
						var profile = {<br/>
						<code>
							name: 'TY Chen',<br/>
							age: 39,<br/>
							affiliation: 'NTHU',<br/>
							height: 180,<br/>
							weight: 72<br/>
						</code>
						};
					</code>
					<p>In the above example, each key and its value is separated by a colon <em>:</em>, and the value is followed by a comma <code>,</code> indicating the end of a <em>key</em>, except for the last one. Note that after the second curved bracket <code>}</code>, a semi-colon <code>;</code> is still added since we are dealing with a <em>statement</em> that declares a variable <code>profile</code>. The way a value is accessed from an object is also very straightforward - just add a period <code>.</code> after the name of an object and the key of the target key:</p>
					<code>
						profile.name; // Get the value of the 'name' key<br/>
						profile['name']; // This would work, too
					</code>
					<p>The same logic applies when you need to update the value of a key or <em>insert</em> a new key:</p>
					<code>
						profile.name = 'Tsung-Ying Chen'; // Update an existing key;<br/>
						profile.gender = 'Male'; // Add a new key called 'gender' with a value 'Male'
					</code>
					<p>As with the case of array, there is no constraint on the type of data in each key - it can be a numeric value, a string, an array, and even another object:</p>
					<code>
						var profile = {<br/>
						<code>
							name: 'TY Chen',<br/>
							age: 39,<br/>
							affiliation: 'NTHU',<br/>
							height: 180,<br/>
							weight: 72,<br/>
							contact: {
							<code>
								home: 0227682149, // Don't call!<br/>
								mobile: [0937149506, 0956771481, 0982982143]
							</code>
							}
						</code>
						};
					</code>
					<p>In the above example, I added another key with a key <code>contact</code> to store my contact info, whose value is also an object with two keys for my <em>fake</em> home number and <em>fake</em> mobile phone numbers. The <code>mobile</code> key has an array of three numeric values for my three <em>fake</em> mobile numbers, which are <em>homogeneous</em>. Now, the entire profile has a very clear, sensible structure, and can be accessed in a meaningful way:</p>
					<code>
						profile.contact.home; // Get the home number<br/>
						profile.contact.mobile[0]; // Get the first mobile number
					</code>
					<p>Now back to the statement we have been using a lot - <code>console.log()</code>; clearly, there's an object named <code>console</code>, which refers to the console tab of the Developer Tools in your Web browser in this case, and it has a key with a key named <code>log</code>, which is a <em>function</em> represented with a pair of brackets <code>( )</code> that allows you to print some message in the console (again, we will get to the function part soon). Yes, we have been in the world of object <em>since the very beginning of this tutorial!!!</em>. JS is one of the <em>obeject-oriented programming languages</em>, and thus the concept of object is crucial to the rest of this tutorial. In fact, all variables are an object regardless of they are assigned a number, string, or array as their value. For instance, once you declare a <em>string</em> variable, you actually can have access to its <code>length</code> key for the number of characters in this variable:</p>
					<code>
						var str = 'This is a loooooooooooooooog string!';<br/>
						console.log(str.length); // Print the number of characters in "str"
					</code>
					<p>Or, when you have an <em>array</em>, its <code>length</code> key provides you the number of <em>data entries</em> in this array:</p>
					<code>
						var mobileNum = [0937149506, 0956771481, 0982982143];<br/>
						console.log(mobileNum.length); // Get the number of data entries stored in "mobileNum"
					</code>
					<p>You can also <em>add a new entry</em> to the end of an array with the function of the <code>push</code> key of an array object:</p>
					<code>
						mobileNum.push(0976111358); // Insert a new number to the last position of "mobileNum"<br/>
						console.log(mobileNum[3]); // Output = 0976111358
					</code>
					<p>So from now on, when you see a period <code>.</code> in our JS code, you should know that it means two different things - First, it could indicate a decimal in a <em>numeric</em> value as in <em>3.14159</em>, or alternative, it could indicate a key of an object, as in <code>console.log</code>. We will see both cases a lot in the rest of this course.</p>
					<p>Before we leave this section, we can create an object in which each key is a <em>function</em> to mimic the codes like <code>console.log</code>, which calls a function in an object. We can use the <code>userMsg</code> and <code>complexCalc</code> functions we created earlier and included them as the value of the keys with the same name in an object:</p>
					<code>
						var demoFuncs = {
						<code>
							popupMsg: popupMsg, // Key name before the colon, function name after the colon<br/>
							userMsg: userMsg,<br/>
							complexCalc: complexCalc
						</code>
						};
					</code>
					<p>In the <code>demoFuncs</code> object, similar functions are grouped together since they are all some kind of demos. Then, we can call the corresponding function by referring to the specific key in the object, just like <code>console.log</code>:</p>
					<code>demoFuncs.userMsg('Victor', 'I am calling a function!');</code>
					<p>Knowing how to create functions helps you save your effort in coding repeating processes, and knowing how to link a function to a key of an object helps you understand the nature of <em class="extra">object-oriented programming</em>.</p>
				</section>
				<section>
					<h2 id="interface">Accessing an HTML document</h2>
					<picture>
						<img src="img/jsdoc.jpg"/>
						<sub>Credit: <a href="https://commons.wikimedia.org/wiki/File:JS_Development_chart_2_(WB2018IN_Assgn).jpg" target="blank">Wikipedia Commons</a></sub>
					</picture>
					<p>After telling you how object-oriented programming in JS works, I am now able to explain the <em>interface</em> between JS and an HTML document. In JS, we can communicate with our Web browser via the object <code>window</code>. Evidently, this object refers to the browser window, which includes many keys that are directly linked to different parts of a Web browser. For instance, we can get the <em class="extra">viewport</em> width and height by accessing to the <code>innerWidth</code> and <code>innerHeight</code> property of <code>window</code>:</p>
					<code>
						var winWidth = window.innerWidth; // Viewport width in pixel, numeric value<br/>
						var winHeight = window.innerHeight; // Viewport height<br/>
						console.log(winWidth);<br/>
						console.log(winHeight);
					</code>
					<p>Or, you can get the URL of the current page with <code>window.location.href</code> or the path of the current page with <code>window.location.pathname</code>. You can also assign a new value to these properties, which controls a Web browser to navigate to a different website or a different path of the current website:</p>
					<code>
						window.location.href = 'https://google.com'; // Change the current URL to Google<br/>
						window.location.pathname = '/nosuchpath'; // Change to a path that does not exit
					</code>
					<p>We can also run some functions depending on the action executed in a browser window, such as popping up a message when a webpage is fully loaded in the browser window:</p>
					<code>
						window.onload = function() { // Initialized a function in the "onload" key of "window"
						<code>
							alert('Website is ready!'); // Executed when everything in the webpage is fully loaded
						</code>
						};
					</code>
					<h3>Window.document</h3>
					<p>There are many properties or functions that you can take advantage of (see the full list on this <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window" target="blank">MDN Web Docs page</a>), but our focus in this section will be mostly on <code>window.document</code>, which apparently refers to the HTML document that is currently presented in a Web browser. Since hardly anyone writes JS codes without using <code>window.document</code>, JS developers decided to create a <em>shortcut</em> for it, so you can simply use <code>document</code> for <code>window.document</code>. In <code>document</code>, you can have access to the <em>DOM</em> of an HTML document, such as the title of the website specified inside <code>&lt;title&gt;&lt;/title&gt;</code>:</p>
					<code>
						var siteTitle = document.title;<br/>
						console.log(siteTitle);
					</code>
					<p>Since <code>document</code> allows JS codes to go through the DOM of an HTML document, it is certianly possible for us to retrieve some HTML elements from the DOM, with the functions like <code>getElement<em>s</em>ByTagName</code>, <code>getElement<em>s</em>ByClassName</code>, and <code>getElementById</code>. Note the emphasis put on the plural suffix <em>-s</em> of <em>Element</em> in the first two - It implies that the functions could get <em class="extra">one or more</em> HTML elements from an HTML documents. Let's start with <code>getElementsByTagName</code>, which retrieve all the elements with the same tag name for you:</p>
					<code>
						var allDivs = document.getElementsByTagName('div'); // Assign all "div" elements returned as an array to "allDivs"<br/>
						console.log(allDivs[0]); // Examine the first "div" element as an object in the console tab<br/>
						var allAudios = document.getElementsByTagName('audio'); // Assign all "audio" elements returned as an array to "allAudios"<br/>
						console.log(allAudios); // Probably "undefined" - nothing is found
					</code>
					<p>In the above example, we first use <code>getElementsByTagName</code> to retrieve all <code>&lt;div&gt;</code> elements. Since your HTML document is likely to have one or more <code>&lt;div&gt;</code> elements, each element would be collected as an object and stored in an <em>array</em> and finally returned to where <code>getElementsByTagName</code> is called. This is true even if there is only <em>one</em> element, which is stored in an array with just this element. If the function finds nothing in an HTML document, it returns a <code>null</code> value, which represents the absolute <em>emptiness</em> in the word of computer programming.</p>
					<p>The other two functions trawl through an HTML document for elements that are given some specific <code>class</code> and <code>id</code> value, as their name suggests. As briefly discussed earlier, you could <em>group HTML elements together</em> with the <code>class</code> attribute with the <em>same</em> value, or make them <em>distinct from each other</em> with the <code>id</code> attribute assigned a <em>unique</em> value:</p>
					<code>
						&lt;div class="group1" id="no1"&gt;Group 1 No 1&lt;/div&gt;<br/>
						&lt;div class="group1" id="no2"&gt;Group 1 No 2&lt;/div&gt;<br/>
						&lt;div class="group1" id="no3"&gt;Group 1 No 3&lt;/div&gt;<br/>
						&lt;div class="group2" id="no4"&gt;Group 2 No 4&lt;/div&gt;<br/>
						&lt;div class="group2" id="no5"&gt;Group 2 No 5&lt;/div&gt;<br/>
						&lt;div class="group2" id="no6"&gt;Group 2 No 6&lt;/div&gt;
					</code>
					<p>With the six <code>&lt;div&gt;</code> elements in our HTML document, we could try out <code>getElementsByClassName</code> and <code>getElementById</code> respectively. For a specific element object, we could use the property <code>innerHTML</code> to retrieve its content:</p>
					<code>
						var allGroupEm = document.getElementsByClassName('group1'); // Get all "group1" class elements<br/>
						var groupEm = allGroupEm[0]; // Get the first element of the "group1" class<br/>
						console.log(groupEm.innerHTML); // Print the content in the console<br/>
						var idEm = document.getElementById('no6'); // Get <em>one</em> 'no6' id element<br/>
						console.log(idEm.innerHTML); // Print the content
					</code>
					<p>To be able to retrieve the content of these elements means we can also change the content of these elements by assigning a different value to their <code>innerHTML</code> property:</p>
					<code>
						var idEm = document.getElementById('no5'); // Get <em>one</em> 'no5' id element<br/>
						idEm.innerHTML = 'Group 2 No 5 (Changed)'; // Change the content of the element
					</code>
					<h3>JS styling</h3>
					<p>Not only can we change the content of an element, we can also style a particular element in JS, which is probably the most important thing in Web design. For each element object, there is a key named <code>style</code>...and it's clear what it does, right? In this key, you can find and set CSS properties with their name, such as:</p>
					<code>
						idEm.style.color = 'red'; // Set the font color
					</code>
					<p>For CSS properties that originally have a hyphen in their name, such as <code>background-color</code>, you need to remove the hyphen and captalize the first letter of the second word, such as <code>backgroundColor</code> in order to set these CSS properties:</p>
					<code>
						var anotherIdEm = document.getElementById('no6'); // Get <em>one</em> 'no6' id element<br/>
						anotherIdEm.style.backgroundColor = 'red';
					</code>
					<p>What if you need to set <em>multiple</em> CSS properties? Well, you can have one statement for each CSS property, but more easily, you can set them all at once with the <code>cssText</code> property of the <code>style</code> key, in which you put in CSS properties as in the CSS file:</p>
					<code>
						var oneMoreIdEm = document.getElementById('no2'); // Get <em>one</em> 'no2' id element<br/>
						// Set CSS properties one by one<br/>
						oneMoreIdEm.style.backgroundColor = 'red';<br/>
						oneMoreIdEm.style.color = 'white';<br/>
						oneMoreIdEm = document.getElementById('no3'); // Get <em>one</em> 'no3' id element<br/>
						// Set CSS properties all at once<br/>
						oneMoreIdEm.style.cssText = 'background-color: green; color: yellow;';
					</code>
					<p>Since the styles set in JS are viewed as <em>inline styles</em>, they would be <em class="extra">more specific</em> than the styles set in a CSS file for the target elements when same CSS properties are involved. This make sense because you can have some <em>default</em> styles for some elements, whose properties are changed by JS in some contexts.</p>
					<p>You can also set <em>inline styles</em> with the function <code>setAttribute()</code> for an element object, as demonstrated on this <a href="https://developer.mozilla.org/en-US/docs/Web/API/ElementCSSInlineStyle/style" target="blank">MDN Web Docs page</a>, but I won't go through it here.</p>
					<h3>Query selector</h3>
					<p>You are now probably very excited, because it's so convenient to refer to the <code>class</code> and <code>id</code> attributes when you need to set the style for a specific element, so you start to think about grouping elements together or making them distinct from each other with these attributes. That's the first mistake I made as an amateur Web designer - I used <em>semantically-free</em> <code>&lt;div&gt;</code> only, and gave them different <code>class</code> and <code>id</code> attribute value so I could locate them in my JS codes very easily. But as I said in the previous unit, this is not the best practice. When you use <em>semantically meaningful</em> elements and have a clear structure for your HTML document, you shouldn't need the <code>class</code> and <code>id</code> attributes most of the time. For example, the <code>&lt;p&gt;</code> elements inside <code>&lt;article&gt;</code> and <code>&lt;section&gt;</code> in the following example might represent different types of information in your webpage. But you don't need different <code>id</code> values for the two paragraphs, because you can use different <em class="extra">selectors</em> to refer to each paragraph: <code>article > p</code> and <code>section > p</code>.</p>
					<code>
						&lt;article&gt;<br/>
						<code>
							&lt;p&gt;<br/>
							&lt;/p&gt;
						</code>
						&lt;/article&gt;<br/>
						&lt;section&gt;
						<code>
							&lt;p&gt;<br/>
							&lt;/p&gt;
						</code>
						&lt;/section&gt;
					</code>
					<p>In JS, you can use the <code>querySelector()</code> function to retrieve an element or the <code>querySelectorAll()</code> to retrieve all elements with a selector and set their styles accordingly, such as:</p>
					<code>
						var em = document.querySelector('section > p'); // Get the first 'p' element whose parent node is 'section'<br/>
						em.style.color = 'white'; // Set the font color of the first element as 'white'
					</code>
					<p>One <em>potential setback</em> in the use of <code>querySelector()</code> or <code>querySelectorAll()</code> is that it's going to be a bit slower than other functions like <code>getElementById()</code> if your selector is structurally complicated. So, if what you want to do is really to search for elements by their <code>id</code> attribute, for instance, just use <code>getElementById()</code>. But it's definitely not fatal if you use <code>querySelector()</code> or <code>querySelectorAll()</code> to do a complex search - One would feel something only if they use some outdated computers or Web browsers or you use too many <code>querySelector()</code> for too many complicated queries.</p>
					<p>This is also not saying that adding the <code>class</code> or <code>id</code> attribute is a taboo in Web design, or they would have been abandoned for a very long time. For me, I add these attributes in two cases.</p>
					<p>First, CSS selector can't do any further for me. You can see two different types of text emphasis in my webpage, such as <em>this</em> and <em class="extra">this</em>. For both types, I use the semantically meaningful element <code>&lt;em&gt;</code>, but since both types could be used inside a <code>&lt;p&gt;</code> element, selector is not helpful, and I have to add a <code>class</code> attribute to the type I need to highlight a bit more.</p>
					<p>Second, a <code>class</code> or <code>id</code> value is semantically straightforward than a selector. Imaging that you have two buttons in your webpage. One changes the background color of all <code>&lt;div&gt;</code> elements, and the other resets the color. Wouldn't it make more sense to give these two buttons some <code>id</code> attribute specified with <em>changeAll</em> and <em>resetAll</em> respectively? If you use selector, it might be something like <q>the first button in a paragraph</q> and <q>the last button in a paragraph</q>, which is not as semantically transparent as the <code>id</code> attribute.</p>
					<p>So it all comes down to how to save your effort in your Web design project by minimizing and simplifying your codes.</p>
				</section>
				<section>
					<h2 id="event">Event and interaction</h2>
					<picture>
						<img src="img/cats.gif"/>
					</picture>
					<p>So far the role of our JS codes is pretty <em>active</em> - they are executed automatically after the webpage is fully loaded. But then there's no <em>interaction</em>! What we're hoping for is that there are some elements that could trigger some JS codes when the users do something to them - an <em class="extra">interactive</em> Web interface. To have an interaction, you need to start an <em>event</em>, and receive some <em>feedback</em> from the <em>event target</em>. If you and your friend just sit next to each other, then there's no interaction. If you poke your friend, and s/he has no response at all, then there's no interaction. If you poke you friend, and s/he screems at you, then there's an interaction, although probably not a good one.</p>
					<p>With the <em class="extra">EventHandler</em> in JS, you can set an element in an HTML document to <em>listen to</em> the following events and react accordingly (see this <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document" target="blank">MDN Web Docs page</a> for a full list):</p>
					<ul>
						<li><code>scroll</code> - when you scroll</li>
						<li><code>keydown</code> - when you press down any key</li>
						<li><code>keyup</code> - when you release a key</li>
						<li><code>click</code> - when you click a mouse key</li>
						<li><code>mousedown</code> - when you click down a mouse key</li>
						<li><code>mouseup</code> - when you release a mouse key</li>
						<li><code>mouseover</code> - when you move a mouse cursor over the target</li>
						<li><code>mouseenter</code> - when you move a mouse cursor into the target</li>
						<li><code>mouseleave</code> - when you move a mouse cursor out of the target</li>
						<li><code>touchstart</code> - when you touch one our more points on the surface</li>
						<li><code>touchend</code> - when you remove one or more touch points from the surface</li>
					</ul>
					<p>The <em>listener</em> of a JS event could be added to an element with the <code>addEventListener()</code> function of an element object, in which you need to specify the event the element listens to and the action taken in JS specified in the <em>listener</em>, which is essentially a function (but see this <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" target="blank">MDN Web Doc page</a> for some complications):</p>
					<code>
						var em = document.querySelector('body'); // Get the 'body' element<br/>
						em.addEventListener('click', function() { // A function triggered upon a 'click' event
						<code>
							alert('clicked!');
						</code>
						}); // It's a statement, so add a semi-colon at the end
					</code>
					<p>If you have different elements that are linked to the same listener, you can create the listener function separately so it can be used in every <code>addEventListener()</code> function:</p>
					<code>
						function clickedMsg() {
							<code>alert('clicked!');</code>
						}<br/>
						var em = document.querySelector('body');<br/>
						em.addEventListener('click', clickedMsg);
					</code>
					<p>It is also possible to add multiple event listeners to the same element:</p>
					<code>
						function enteredMsg() {
							<code>
								alert('mouse entered!');
							</code>
						}<br/>
						em.addEventListener('mouseenter', enteredMsg);
					</code>
					<p>When you link an element to a <em>named</em> function in <code>addEventListener()</code>, you are able to remove this event listener later with <code>removeEventListener()</code>:</p>
					<code>
						// Remove the 'enteredMsg' listener of the 'mouseenter' event for em<br/>
						em.removeEventListener('mouseenter', enteredMsg);
					</code>
					<h3>Styling the webpage with an interactive interface</h3>
					<p>Before I explain how this is done, perhaps you could try to accomplish this challenge by yourself?</p>
					<ol>
						<li>In an HTML file, create two <code>&lt;div&gt;</code> elements inside <code>&lt;body&gt;</code>,</li>
						<li>style both <code>&lt;div&gt;</code> elements using <em>inline styles</em>, specify a width and a height of <code>5vh</code> to make them a square, and</li>
						<li>add two event listeners to each <code>&lt;div&gt;</code> - one changes the background color to any color of your choice when you move your mouse cursor over it, and the other changes the background color back to the default white backgroud.</li>
					</ol>
					<p>Select the following section to find a <em>complicated</em> solution:</p>
					<code style="color: #e68a00;">
						var div = document.getElementByTagName('div');<br/>
						var div1 = div[0], div2 = div[1];<br/>
						// For the first 'div' element<br/>
						function newDiv1BgColor () {
							<code style="color: inherit;">
								div1.style.backgroundColor = 'red';
							</code>
						}<br/>
						function oldDiv1BgColor () {
							<code style="color: inherit;">
								div1.style.backgroundColor = 'white';
							</code>
						}<br/>
						// For the second 'div' element<br/>
						function newDiv2BgColor () {
							<code style="color: inherit;">
								div2.style.backgroundColor = 'blue';
							</code>
						}<br/>
						function oldDiv2BgColor () {
							<code style="color: inherit;">
								div2.style.backgroundColor = 'white';
							</code>
						}<br/>
						div1.addEventListener('mouseenter', newDiv1BgColor);<br/>
						div1.addEventListener('mouseleave', oldDiv1BgColor);<br/>
						div2.addEventListener('mouseenter', newDiv2BgColor);<br/>
						div2.addEventListener('mouseleave', oldDiv2BgColor);
					</code>
					<h3>The magical <q>this</q></h3>
					<p>The above solution is complicated because in each <em>listener</em>, I have to retrieve all <code>&lt;div&gt;</code> elements, isolate the target <code>&lt;div&gt;</code>, and set the style accordingly. But there's a keyword <code>this</code> in JS, which can save us lots of works. It has <a href="https://www.w3schools.com/js/js_this.asp" target="blank">different meanings</a> in distinct contexts, but here we focus on its use in an event: <code>this</code> represents <em class="extra">the element that receives the target event</em>. Let's validate this first:</p>
					<code>
						document.addEventListener('click', function() {
							<code>
								console.log(this); // Print the element that receives this 'click' event, namely 'document'<br/> 
							</code>
						});
					</code>
					<p>So, how can <code>this</code> help simplify our codes in the complicated solution? We can directly set the style of the target <code>&lt;div&gt;</code> element directly with <code>this</code> - we don't even need two functions to reset the background color since the default color is the same:</p>
					<code>
						var div = document.getElementByTagName('div');<br/>
						var div1 = div[0], div2 = div[1];<br/>
						// For the first 'div' element<br/>
						function newDiv1BgColor () {
							<code>
								this.style.backgroundColor = 'red';
							</code>
						}<br/>
						// For the second 'div' element<br/>
						function newDiv2BgColor () {
							<code>
								this.style.backgroundColor = 'blue';
							</code>
						}<br/>
						// Same reset function for both 'div' elements<br/>
						function oldDivBgColor () {
							<code>
								this.style.backgroundColor = 'white';
							</code>
						}<br/>
						div1.addEventListener('mouseenter', newDiv1BgColor);<br/>
						div1.addEventListener('mouseleave', oldDivBgColor);<br/>
						div2.addEventListener('mouseenter', newDiv2BgColor);<br/>
						div2.addEventListener('mouseleave', oldDivBgColor);
					</code>
					<p>Building on the previous practices, our next task to create a more common interactive interface - click on a link and change the style of an element accordingly. Let's first create three <code>&lt;div&gt;</code> blocks and three corresponding <code>button</code> elements in an HTML document:</p>
					<code>
						&lt;!-- Divs with inline styles --&gt;<br/>
						&lt;div style="width: 5vh; height: 5vh; background-color: black; color: white;" &gt;Block1&lt;/div&gt;<br/>
						&lt;div style="width: 5vh; height: 5vh; background-color: red; color: white;" &gt;Block2&lt;/div&gt;<br/>
						&lt;div style="width: 5vh; height: 5vh; background-color: green; color: white;" &gt;Block1&lt;/div&gt;<br/>
						&lt;button id="block1"&gt;Change Block1 Background Color&lt;/button&gt;<br/>
						&lt;button id="block2"&gt;Change Block2 Background Color&lt;/button&gt;<br/>
						&lt;button id="block3"&gt;Change Block3 Background Color&lt;/button&gt;
					</code>
					<p>Apprently, what I want to do here is to click a button and change the background color of the corresponding <code>&lt;div&gt;</code> element to some other color. Before I give you a complex solution (well, just select the section below), could you try yourself and make this happen in your JS file embedded into the webpage (choose your own new background colors)?</p>	
					<code style="color: #e68a00;">
						var divs = document.getElementByTagName('div');<br/>
						var buttons = document.getElementByTagName('button');<br/>
						function changeBg1 () {
							<code style="color: #e68a00;">
								divs[0].style.backgroundColor = 'red';
							</code>
						}<br/>
						function changeBg2 () {
							<code style="color: #e68a00;">
								divs[1].style.backgroundColor = 'green';
							</code>
						}<br/>
						function changeBg3 () {
							<code style="color: #e68a00;">
								divs[2].style.backgroundColor = 'black';
							</code>
						}<br/>
						buttons[0].addEventListener('click', changeBg1);<br/>
						buttons[1].addEventListener('click', changeBg2);<br/>
						buttons[2].addEventListener('click', changeBg3);
					</code>
					<p>We can greatly simplify the above complex solution by adding an <code>id</code> attribute to the three <code>&lt;div&gt;</code> elements, whose value partially overlaps with the value of the <code>id</code> attribute of the three <code>&lt;button&gt;</code> element. Then, we can use the magical <code>this</code> keyword to get the <code>id</code> attribute of the clicked button, make changes to this <code>id</code> information to match the <code>id</code> attribute of the targt <code>&lt;div&gt;</code> element, and then change the background color of the target <code>&lt;div&gt;</code> block:</p>
					<code>
						&lt;!-- Add the same id attribute to each div --&gt;<br/>
						&lt;div id="targetblock1" style="width: 5vh; height: ...<br/>
						&lt;div id="targetblock2" style="width: 5vh; height: ...<br/>
						&lt;div id="targetblock3" style="width: 5vh; height: ...<br/>
						...<br/><br/>
						// Simplified JS codes<br/>
						var buttons = document.getElementByTagName('button');<br/>
						function changBg () {
							<code>
								var buttonId = this.id; // Get the id attribute of the clicked button<br/>
								// Add the string 'target' to the beginning of buttonId to match the id of<br/>
								// the target div; buttonId = 'block1' -> targetId = 'targetblock1'<br/>
								var targetId = 'target' + buttonId;
								var target = document.getElementById(targetId); // Get the target div with targetId<br/>
								target.style.backgroundColor = 'purple'; // Set a new background color
							</code>
						}<br/>
						buttons[0].addEventListener('click', changeBg);<br/>
						buttons[1].addEventListener('click', changeBg);<br/>
						buttons[2].addEventListener('click', changeBg);
					</code>
					<p>The function of the simplified codes is a bit different, because it could not set a different background color for each <code>&lt;div&gt;</code>, but we will get there eventually. The main point of the above demo is to show how to use the <code>id</code> attribute shared by <code>&lt;div&gt;</code> and <code>&lt;button&gt;</code> to do the trick more easily.</p>
					<h3>More on the nature of an event</h3>
					<picture>
						<img src="img/bubble.png"/>
						<sub>Credit: <a href="https://www.flickr.com/photos/paulslab/7031967973/" target="blank">Paul</a></sub>
					</picture>
					<p>Every <em>listener function</em> could receive an <code>event</code> object passed from the <em class="extra">event handler</em> that comes with every single detail about the triggered event, and we can examine these details in our Developer Tools console:</p>
					<code>
						function changBg (event) { // "event" is just a variable name, so you can change it if you want
							<code>
								console.log(event);
							</code>
						}
					</code>
					<p>In this object, you would see some keys that includes some crucial information, such as <code>target</code> (the element on which the event is triggered) and <code>path</code> (the nodes passed in the DOM to reach the target). The former <code>target</code> is useful since sometimes multiple elements could be tied to the <em>same</em> listener as in the example above, and you might want to do different things based on different target elements (again, we will get back to this very soon). The latter <code>path</code> is more crucial at this point, because it shows how your Web browser tries to locate the target element - starting with the <em>root node</em>, and then gradually descend to the target node/element. This of course makes sense because if you click on the <code>&lt;button&gt;</code> element in the following structure, it also means you click the <code>&lt;div&gt;</code> and its child <code>&lt;p&gt;</code>, too:</p>
					<code>
						&lt;div&gt;
						<code>
							&lt;p&gt;
							<code>
								This is a paragraph.<br/>
								&lt;button&gt;I'm a button&lt;/button&gt;
							</code>
							&lt;/p&gt;
						</code>
						&lt;/div&gt;
					</code>
					<p>Now, supposed that in the above HTML document, both of the <code>&lt;button&gt;</code> element and the <code>&lt;p&gt;</code> element are set to listen to a <code>click</code> event, clicking on the <code>button</code> element will also fire the clicking event of the <code>&lt;p&gt;</code> element. This is called <em class="extra">bubbling</em>, as your Web browser starts with the target element and gradually go back to check every ancestor to see if it listens to the same event (this is an oversimplified fact; see this <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events" target="blank">MDN Web Docs page</a>):</p>
					<code>
						// You can read this line, right?<br/>
						document.getElementsByTagName('p')[0].addEventListener('click', function(event) {
							<code>
								this.style.backgroundColor = 'red';
							</code>
						});<br/>
						// You can also read this line, right?<br/>
						document.getElementsByTagName('button')[0].addEventListener('click', function(event) {<br/>
							<code>
								alert('Clicked!');
							</code>
						});
					</code>
					<p>Again, this makes sense because you are clicking on the <code>&lt;button&gt;</code> element inside a <code>&lt;p&gt;</code> element. But most of time you don't want this default behavior - you just want the button to do its own thing. So, you need to stop the event from <em class="extra">propagating</em> with the <code>stopPropagation()</code> function of the <em>event object</em> passed to the listener function:</p>
					<code>
						document.getElementsByTagName('button')[0].addEventListener('click', function(event) {<br/>
							<code>
								event.stopPropagation(); // Stop the clicking event from bubbling to its ancestor<br/>
								alert('Clicked!');
							</code>
						});
					</code>
					<p>I could imagine that sometimes the default <em>bubbling</em> effect is useful, but more often it creates <em>bugs</em> for newbies, so you need to pay attention to it when adding event listeners to your webpages.</p>
				</section>
				<section>
					<h2 id="ifelse">If...else...</h2>
					<picture>
						<img src="img/ifelse.png"/>
						<sub>Credit: <a href="https://www.flickr.com/photos/red11group/4869913259/" target="blank">Jocelyn Wallace</a></sub>
					</picture>
					<p>To have your JS codes interacting with the HTML interface in the previous sections, you need to write complex codes, such as creating separate listener functions that are essentially similar. For instance, if you need to have a different background color for <code>&lt;div&gt;</code> and <code>&lt;p&gt;</code> <em>respectively</em> after clicking on a different button, then you need two listener functions in which the JS code specifies a different background color. But why can't we have just one listener function in which the JS code gives an element a different background color dependending on which element it is? Of course we can, if we use the <code>if...else...</code> statement in our JS code:</p>
					<code>
						if(condition) {
							<code>
								// Statements executed when the condition is met
							</code>
						} else { // the "else" part is optional
							<code>
								// Statements executed when the condition is not met
							</code>
						}
					</code>
					<p>With the above syntax, our JS codes would tell a Web browser to execute a code block when a condition is met, or the other code block when it is not met. Before we break this down, we need to know one more data type in addition to number, string, array, and object, that is, a <em class="extra">boolean</em> value. A <em>boolean</em> value could be either <code>true</code> or <code>false</code>, and there's nothing in between. When I say <q>a condition is met</q>, it means the condition is <code>true</code>, or it is <code>false</code>. In JS, a condition is generally a <em>comparison</em> of two values using some operators:</p>
					<ul>
						<li><code>A > B</code> - A is numerically higher than B</li>
						<li><code>A >= B</code> - A is numerically equivalent to or higher than B</li>
						<li><code>A < B</code> - A is numerically lower than B</li>
						<li><code>A <= B</code> - A is numerically equivalent to or low than B</li>
						<li><code>A == B</code> - A is equivalent to B, regardless of their data type</li>
						<li><code>A != B</code> - A is not equivalent to B, regardless of their data type</li>
						<li><code>A === B</code> - A is equivalent to B in terms of both value and data type</li>
						<li><code>A !== B</code> - A is not equivalent to B in terms of both value and data type</li>
					</ul>
					<p>The first four comparisons should be rather understandable, so let's put our focus on the last four comparing the equivalence of two values. In addition to the use of <code>!</code> to represent <em class="extra">not</em> in a condition, the major difference lies in whether an extra equal sign <code>=</code> is used to compare values by taking their data type into consideration. The difference matters the most in cases where numerical values and digit <em>characters</em> are compared as in the following two lines:</p>
					<code>
						console.log('5' == 5); // You get a "true"<br/>
						console.log('5' === 5); // You get a "false"
					</code>
					<p>In the first comparison, you get a <code>true</code> value when a character 5 is compared to a numerical 5 using <code>==</code> - since the two values are compared with no regard to their data type, <em>automatical type conversion</em> applies to make the two values equivalent to each other. By contrast, when the same values are compared using <code>===</code>, the type conversion does not apply, and the result is a <code>false</code> since they are of different data types. In other words, comparisons using <code>===</code> are more conservative than those using <code>==</code>. I personally always choose the more conservative option since it lowers the risk of having <em>bugs</em> in your codes. If I need to convert strings into numerical values, I would do it myself manually using the <code>Number()</code> or <code>parseInt()</code> function.</p>
					<p>Now back to our <code>if...else...</code> statements. We use the previous example with three <code>&lt;div&gt;</code> elements, and three corresponding <code>&lt;button&gt;</code> elements sharing the same <code>id</code> attribute with the <code>&lt;div&gt;</code> elements:</p>
					<code>
						&lt;div id="block1" style="width: 5vh; height: ...<br/>
						&lt;div id="block2" style="width: 5vh; height: ...<br/>
						&lt;div id="block3" style="width: 5vh; height: ...<br/>
						&lt;button id="block1"&gt;Change Block 1&lt;/button&gt;<br/>
						&lt;button id="block2"&gt;Change Block 2&lt;/button&gt;<br/>
						&lt;button id="block3"&gt;Change Block 3&lt;/button&gt;
					</code>
					<p>We would associate all three <code>&lt;button&gt;</code> elements to the same listener function for an clicking event, but only when the <code>id</code> attribute is <code>block1</code>, the corresponding <code>&lt;div&gt;</code> element would have a new background color:</p>
					<code>
						var buttons = document.getElementByTagName('button');<br/>
						function changBg () {
							<code>
								let buttonId = this.id; // Get the id attribute of the clicked button<br/>
								let target = document.getElementById(buttonId); // Get the target div with the same id<br/>
								if(buttonId === 'block1') { // Change the background color only for a specific div
									<code>
										target.style.backgroundColor = 'purple';
									</code>
								}
							</code>
						}<br/>
						buttons[0].addEventListener('click', changeBg);<br/>
						buttons[1].addEventListener('click', changeBg);<br/>
						buttons[2].addEventListener('click', changeBg);
					</code>
					<p>As mentioned earlier, the <code>else</code> part in the <code>if...else...</code> statement is <em>optional</em>, so in the above example we only make it clear what to do when the condition <code>buttonId === 'block1'</code> is <code>true</code>. Next, we add the <code>else</code> part to specify the background color for a corresponding <code>&lt;div&gt;</code> element when the <code>id</code> is <em>not</em> <code>block1</code>:</p>
					<code>
						...<br/>
						function changBg () {
							<code>
								let buttonId = this.id; // Get the id attribute of the clicked button<br/>
								let target = document.getElementById(buttonId); // Get the target div with the same id<br/>
								if(buttonId === 'block1') { // Change the background color only for a specific div
									<code>
										target.style.backgroundColor = 'purple';
									</code>
								}
								else { // If buttonId is not block1, change the background color to 'yellow'
									<code>
										target.style.backgroundColor = 'yellow';
									</code>
								}
							</code>
						}<br/>
						...
					</code>
					<p>But maybe you actually want to style every single <code>&lt;div&gt;</code> element with a different color depending on which button is clicked. In this case, you could choose to add another <code>if</code> condition after <code>else</code> for another comparison if the result of the previous comparison is <code>false</code>:</p>
					<code>
						...<br/>
						function changBg () {
							<code>
								let buttonId = this.id; // Get the id attribute of the clicked button<br/>
								let target = document.getElementById(buttonId); // Get the target div with the same id<br/>
								if(buttonId === 'block1') { // Change the background color only for a specific div
									<code>
										target.style.backgroundColor = 'purple';
									</code>
								}
								else if(buttonId === 'block2') { // When the previous condition is 'false', check another condition
									<code>
										target.style.backgroundColor = 'yellow';
									</code>
								}<br/>
								else { // Use another background color if all previous conditions are 'false'
									<code>
										target.style.backgroundColor = 'grey';
									</code>
								}
							</code>
						}<br/>
						...
					</code>
					<p>In the above example, I tested all the conditions one by one until one of them is <code>true</code>, or do everything in the <code>else</code> block when none of them is <code>true</code>. Since I only have three elements that require a different background color, I don't need to add another condition when the first two are not <code>true</code> - the <code>else</code> part itself represents the third and the only possible choice - <code>block3</code>.</p>
					<h3>!!!!!!!!!!!!</h3>
					<p><q>What the heck is this subheading?</q> You might ask. In this section, I've shown to you that the exclamation mark <code>!</code> means <em class="extra">not</em> in a comparison. But there is also another role it plays in a condition. When you put a <code>!</code> immediately before the name of a variable, the result is a <em>boolean</em> value that tells you if the variable is <code>null</code>, <code>undefined</code>, <code>0</code>, <code>NaN</code> (Not a Number), or <code>''</code> (empty string):</p>
					<code>
						var valueVar = 5, nullVar = null;<br/>
						console.log(!valueVar); // You get a 'false'<br/>
						console.log(valueVar); // You get a 'true' (do you know why?<br/>
						console.log(!nullVar); // You get a 'true'<br/>
						console.log(nullVar); // You get a 'false' (do you know why?)
					</code>
					<p>How is this useful in styling? Well, when you use functions like <code>querySelector()</code> or <code>querySelectorAll()</code> to retrieve HTML elements, there's no guarantee that you will get any. If there's no HTML element that meets your criteria, these functions would <em>return</em> a <code>null</code> value, which literally just means...<em>nothing</em>. If this is the case, then you don't need to do any action related to styling and HTML element. For example, let's add a fourth button with a weird <code>id</code> attribute in the earlier example, and we link it to the same listener function:</p>
					<code>
						...<br/>
						&lt;button id="iamweird"&gt;I'm weird&lt;/button&gt;
					</code>
					<code>
						...<br/>
						buttons[3].addEventListener('click', changeBg);
					</code>
					<p>Now, we know that if you click on this button, you JS code won't be able to find a <code>&lt;div&gt;</code> with the button's <code>id</code>. The <code>target</code> variable will thus be assigned a <code>null</code> value returned from <code>getElementById()</code>. Therefore, we can add a new <code>if...else...</code> after this line to judge if the variable <code>target</code> has a null value, and style the target element if it's not:</p>
					<code>
						...<br/>
						function changBg () {
							<code>
								let buttonId = this.id; // Get the id attribute of the clicked button<br/>
								let target = document.getElementById(buttonId); // Get the target div with the same id<br/>
								if(!target) {
									<code>
										// Show a pop-up message if no element is found<br/>
										alert('No such element: ' + buttonId);
									</code>
								}<br/>
								else {
									<code>
										// The old if...else... statement for styling divs
									</code>
								}
							</code>
						}<br/>
						...
					</code>
					<h3>Logical operators AND and OR</h3>
					<p>Sometimes in an <code>if...else...</code> statement, you want to have an action executed when <em>one</em> or <em>all</em> of the conditions are <code>true</code>, and you need the logical operators <code>||</code> (OR) and <code>&&</code> (AND) to do this job for you. For instance, in our ealier example, if you need to change the background color when the <code>id</code> of a <code>&lt;div&gt;</code> element is <code>block1</code> <em>or</em> <code>block3</code>, then you can have the following conditions combined using the logical operator <code>||</code> in the <code>if...else...</code> statement:</p>
					<code>
						if(buttonId === 'block1' || buttonId === 'block3') { // Conditions combined with the OR operator
							<code>
								// Style the background
							</code>
						}
					</code>
					<p>In the above example, the result is <code>true</code> if one of the conditions is <code>true</code>. Alternatively, we can check if we have successfully retrieved a target element <em>and</em> whether the element has a specific <code>id</code> attribute with the logical operator <code>&&</code> in the same <code>if...else...</code> statement:</p>
					<code>
						if(target && buttonId === 'block3') { // Conditions combined with the AND operator
							<code>
								// Style the background
							</code>
						}
					</code>
					<p>In the above example, the result is <code>true</code> only when both conditions are <code>true</code> - The variable is neither <code>null</code> nor <code>undefined</code>, and the element <code>id</code> is <code>block3</code>. In JS, it is almost impossible to make things happen easily without <code>if...else...</code> statements, and I believe you will find it useful very soon.</p>
				</section>
				<section>
					<h2 id="loop">Loop</h2>
					<picture>
						<img src="img/loop.gif"/ style="width: 20%; height: auto;">
						<sub>Credit: <a href="https://scienceisbeauty.tumblr.com/post/128190705865/gifs-inspired-by-escher-works" target="blank">Science is Beauty</a></sub>
					</picture>
					<p>Even after we have learned so much about JS, we can still do very little about the interaction between JS codes nad the HTML document. The primary reason is that our JS codes can only target at <em>one</em> HTML element at a time. If there are seven <code>&lt;div&gt;</code> elements we need to style in JS, then we wouldn't be able to complete the task without writing same JS statements for each of the elements. In addition, what if we want to use the same styling JS function to deal with separate groups of elements whose quantity is <em>variable</em>? Without knowing how many elements there are, we are not able to count how many times we need to repeat the same JS statements for each element. That's why we need <em class="extra">loop</em>, which repeats a <em>code block</em> for a specific number of times. It is possible to create a loop with either <code>for</code> or <code>while</code>, and let's start with the first one, which has the following syntax:</p>
					<code>
						for(loop variable ; loop condition ; loop action) {
							<code>
								// For loop code block
							</code>
						}
					</code>
					<p>The <code>for</code> loop includes three core statements separated with a <em class="extra">semi-colon</em> <code>;</code> (you can surely guess why this is the case...?). In the first statement, you can create a variable that is only accessible in this loop, such as <code>var i=0</code>. This variable often functions as a <em>counter</em> in this loop (1st loop, 2nd loop, 3rd loop, etc.). The second statement is a <em class="extra">condition</em> that we have seen in the previous section, which determines whether a loop should continue (when the condition is <code>true</code>) or not (when the condition is <code>false</code>). For instance, with the condition <code>i < 10</code>, the loop would continue until the variable <code>i</code> is assigned a value larger than 10. Finally, the last statement will be executed at the end of the loop, which is usually used to updated the <em>counter variable</em> declared in the first statement, such as <code>i++</code> (<code>i</code> increases by 1) or <code>i--</code> (<code>i</code> decreases by 1). By this point you probably can see how a <code>for</code> loop works - define a counter, set a condition involving the counter, and update the counter until the condition is no longer <code>true</code>, as in the following example:</p>
					<code>
						// A loop that is repeated 10 times<br/>
						for(var i = 0 ; i < 10 ; i++) {
							<code>
								console.log(i); // Print the value of the counter
							</code>
						}
					</code>
					<p>The most common bug in coding a JS loop is to create an <em>infinite loop</em>, usually by accident. That is, the loop condition in never <code>false</code>, so a loop never stops. Here are two possible examples:</p>
					<code>
						// The counter never reaches the threshold<br/>
						for(var i = 0 ; i < 10 ; i--) {
							<code>
								console.log(i);
							</code>
						}
					</code>
					<code>
						// The condition involves a wrong variable<br/>
						var j = 0;<br/>
						for(var i = 0 ; j < 10 ; i++) {
							<code>
								console.log(i);
							</code>
						};
					</code>
					<p>Alternatively, your loop could never start since the condition is <code>false</code> right at the beginning:</p>
					<code>
						// The condition is never met<br/>
						for(var i=0 ; i > 10 ; i++) {
							<code>
								console.log(i);
							</code>
						}
					</code>
					<p>As mentioned earlier, we want to style a group of elements in a loop, which requires you to have the following sense:</p>
					<ul>
						<li>You will use <code>getElementsByTagName()</code>, <code>getElementsByClass()</code>, or <code>querySelectorAll()</code> to get a group of elements.</li>
						<li>These elements will be stored in an array return by the aforementioned functions.</li>
						<li>You loop through this array and style each element until the end of this array (your loop condition).</li>
					</ul>
					<p>Let's now have three <code>&lt;div&gt;</code> siblings, and use a <code>&lt;button&gt;</code> element that listen to a <code>click</code> event to style all three elements:</p>
					<code>
						var button = document.getElementsByTagName('button')[0]; // Get one and the only 'button' element<br/>
						button.addEventListener('click', function() {
							<code>
								let divs = document.getElementsByTagName('div'); // Get all 'div' elements returned as an array<br/>
								let divNum = divs.length; // Get the number of data entries in the 'divs' array<br/>
								// Counter starts with zero, increases by 1 at the end, loop stops when i === divNum<br/>
								for(let i = 0 ; i < divNum ; i++) {
									<code>
										let div = divs[i]; // Get the target div by the index number<br/>
										div.style.backgroundColor = 'red'; // Style it
									</code>
								}
							</code>
						});
					</code>
					<p>In the above example, we usually name the counter variable something like <code>i</code> since it represents the <em>index</em> number in an array, and it starts with <em>0</em> because it represents the first data entry in an array. Since we need to loop through the end of the array, we need to know how many data entries there are in the array, which can be obtained with the <code>length</code> property of an array object. In the condition, we need the operator <code>&lt;</code> rather than <code>=</code> since the index of the last data entry in an array is always <em>arrary length minus 1</em>.</p>
					<p>If we include <code>if...else...</code> statements in a <code>for</code> loop, it will be possible to make our styling function more flexible to deal with subgroups of elements in the <em>same</em>. For example, perhaps we don't want to change the background color of the second <code>&lt;div&gt;</code> element of the three <code>&lt;div&gt;</code> elements we had above, so we add an <code>id</code> attribute to it with a value <code>nostyle</code>:</p>
					<code>
						&lt;div id="nostyle"&gt;Div 2&lt;/div&gt;
					</code>
					<p>Then, we would use the <code>if</code> statement to style a <code>&lt;div&gt;</code> element only when it's <code>id</code> attribute is not <code>nostyle</code>:</p>
					<code>
						...<br/>
						for(let i = 0 ; i < divNum ; i++) {
							<code>
								let div = divs[i]; // Get the target div by the index number<br/>
								if(div.id !== 'nostyle') { // Style the element only when the id attribute is not "nostyle"
									<code>
										div.style.backgroundColor = 'red';
									</code>
								}
							</code>
						}<br/>
						...
					</code>
					<h3>Hit the "break"</h3>
					<p>Sometimes you just need to loop through an array of elements to search for a very specific element. If you get lucky, you would find it in the first position of an array, in the very first loop in <code>for</code>. Then, you don't need to run the rest of the <code>for</code> loop, and you want to use the keyword <code>break</code> to discontinue the <code>for loop</code>. In a nutshell, we need an <code>if...else...</code> statement for a condition that is met when a specific element is found, and some statements to style this element and discontinue the loop afterwards. Let's start with our HTML part, in which we have three <code>&lt;div&gt;</code> elements specified with a distinct <code>id</code> value and a <code>&lt;button&gt;</code> element specified with one of the three <code>id</code> values:</p>
					<code>
						&lt;div id="div1"&gt;Div 1&lt;/div&gt;<br/>
						&lt;div id="div2"&gt;Div 2&lt;/div&gt;<br/>
						&lt;div id="div3"&gt;Div 3&lt;/div&gt;<br/>
						&lt;button id="div2"&gt;Style Div 2&lt;/button&gt;
					</code>
					<p>Now, let's add an event listener to the <code>&lt;button&gt;</code> element for a <em>clicking</em> event, and we get the <code>id</code> of the <code>&lt;button&gt;</code> element, search for the <code>&lt;div&gt;</code> element with the same <code>id</code>, style it, and discontinue the loop:</p>
					<code>
						...<br/>
						let buttonId = this.id; // Get the id of the clicked button<br/>
						for(let i = 0 ; i < divNum ; i++) {
							<code>
								let div = divs[i]; // Get the target div by the index number<br/>
								if(div.id === buttonId) { // Style the element only when there's a match in id
									<code>
										div.style.backgroundColor = 'red';<br/>
										console.log(i); // Print out the counter<br/>
										break; // Discontinue the loop
									</code>
								}
							</code>
						}<br/>
						...
					</code>
					<p>The Web browser in your modern computer won't be overwhelmed by a simple loop even if it is unnecesary to complete it. But our goal is always to create an efficient program that saves as much computation resources as possible. When your program grows further, every redundancy would matter. Speaking of efficient, there's in fact an even much simpler solution using <code>querySelector()</code>, but I'll leave this to you, since my point is to demonstrate the use of <code>break</code> in the <code>for</code> loop.</p>
					<p>A <code>for</code> loop can also be used to iterate through an object, mostly for retrieving the keys of the object:</p>
					<code>
						var div = document.getElementsByTagName('div')[0]; // The first div element of the document<br/>
						for(let key in div) { // Declare a variable "key" for each key string of the object in each iteration
							<code>
								console.log(key); // Print the key<br/>
								console.log(div[key]); // Print the value of each key
							</code>
						}
					</code>
					<h3>do...while...</h3>
					<picture>
						<img src="img/daruma.gif"/>
					</picture>
					<p>Another type of loop in JS can be created with the <code>do...while...</code> statement, which could simply be interpreted as <q>do something while the condition is met</q>:</p>
					<code>
						do {
							<code>
								// Some statements executed when the condition is met
							</code>
						}<br/>
						while(condition);
					</code>
					<p>The idea is similar to the <code>for</code> loop - as long as the condition is met (=<code>true</code>), the same statement(s) will be repeated over and over, and of course we can also use <code>break</code> to discontinue the loop manually. Let me translate the previous <code>for</code> loop that attempts to identify a <code>&lt;div&gt;</code> element with a specific <code>id</code> attribute into a <code>do...while...</code> loop:</p>
					<code>
						...<br/>
						var buttonId = this.id; // Get the id of the clicked button<br/>
						var i = 0; // Declare a counter variable<br/>
						do {
							<code>
								let div = divs[i]; // Get the target div by the index number<br/>
								if(div.id === buttonId) { // Style the element only when there's a match in id
									<code>
										div.style.backgroundColor = 'red';<br/>
										console.log(i); // Print out the counter<br/>
										break; // Discontinue the loop
									</code>
								}<br/>
								i++; // Increase the counter by 1
							</code>
						}<br/>
						while(i < divs.length);
					</code>
					<p>There is one thing worthnoting here. The counter variable <code>i</code> is declared outside the loop, so its value can be accessed by other parts of your JS codes in the same file, which could lead to some potential bugs. One possible solution is to avoid using counter in <code>do...while...</code> to iterate through an array. Instead, we can always check the first entry of an array, and get rid of it from the array if there's no match, and the second entry would "drop" to the first place, just like the animation above demonstrating the Japanese game <em>Daruma Otoshi</em>. This way, we can always just check the first entry without the need for a counter, until all the entries are dropped or a <code>break</code> statement is executed. First, we will need the <code>splice()</code> function of an array object, which requires two parameters - index (where to start dropping data entries) and number (how many data entries to be dropped):</p>
					<code>Array.splice(index, number)</code>
					<p>The following examples give you some overview about how it is used:</p>
					<code>
						Array.splice(0, 1); // Start from the first position and drop one entry (drop the first entry)<br/>
						Array.splice(2, 3); // Start from the third position and drop three entries (drop 4th, 5th, and 6th entries)
					</code>
					<p>Every time you drop an entry from an array object, its <code>length</code> key decreases by 1. So when there is no more entry in the array object, its <code>length</code> key would be <em>0</em>, and that's when the iteration through the array object should be over. Taken altogether, the <code>for</code> loop can be translated into a <code>do...while...</code> loop without a counter is as follows:</p>
					<code>
						...<br/>
						var buttonId = this.id; // Get the id of the clicked button<br/>
						do {
							<code>
								let div = divs[0]; // Always get the first div in the array<br/>
								if(div.id === buttonId) { // Style the element only when there's a match in id
									<code>
										div.style.backgroundColor = 'red';<br/>
										break; // Discontinue the loop
									</code>
								}<br/>
								divs.splice(0, 1); // Drop the first div object in the array 
							</code>
						}<br/>
						while(divs.length > 0); // Repeat when there's at least one data entry in the array object
					</code>
					<p>So, <code>for</code> loop or <code>do...while...</code> loop? I mostly use the former, because its syntax is pretty straightforward, and it's useful when you need to iterate through an object. Some might also have the question about which one is <em>computationally</em> more efficient. I have a vague memory that <code>do...while...</code> is faster than <code>for</code>, everything else being equal. But after googling information a bit, the performacne seems to vary across Web browsers. So do you own research, and choose the one the works most efficiently for most of your users. It's always like this in the world of computer programming.</p>
				</section>
				<section>
					<h2 id="form">Form, submit, and reset</h2>
					<p>I know what you are probably thinking right now: This tutorial is already beyond <q>basics</q>. But what I mean by <q>basics</q> is not <q>simple</q>; it's all about the basic concepts that you will be using frequently in Web design. And please allow me to add one more part for you to create an interactive website using the HTML elements <code>&lt;form&gt;</code> and <code>&lt;input&gt;</code> as well as JS codes. Let's start with <code>&lt;input&gt;</code>, which represents an object that collects some data input into the webpage. Depending on the <code>type</code> attribute, an <code>&lt;input&gt;</code> element will be presented as a different object (see <a href="https://www.w3schools.com/tags/tag_input.asp" target="blank">this W3CSchool page</a> for a full list):</p>
					<ul>
						<li><code>text</code> - A field that you can fill in some texts</li>
						<li><code>number</code> - A field that you can fill in some number</li>
						<li><code>color</code> - A field that you can choose a color value</li>
						<li><code>button</code> - A simple button, pretty much like <code>&lt;button&gt;</code></li>
						<li><code>submit</code> - A button used to submit the data of a <code>&lt;form&gt;</code></li>
						<li><code>reset</code> - A button used to reset all fields in a <code>&lt;form&gt;</code></li>
					</ul>
					<p>We can try the <code>text</code> type and style HTML elements by their tag name input into the <code>text</code> field. Let's create three <code>&lt;div&gt;</code> elements and three <code>&lt;p&gt;</code> elements with one <code>&lt;input&gt;</code> element:</p>
					<code>
						&lt;div&gt;Div1&lt;/div&gt;<br/>
						&lt;div&gt;Div2&lt;/div&gt;<br/>
						&lt;div&gt;Div3&lt;/div&gt;<br/>
						&lt;p&gt;P1&lt;/p&gt;<br/>
						&lt;p&gt;P2&lt;/p&gt;<br/>
						&lt;p&gt;P3&lt;/p&gt;<br/>
						&lt;input type="text" id="styleTag" placeholder="enter a tag name..." /&gt;
					</code>
					<p>In the <code>&lt;input&gt;</code> element, I add a <code>placeholder</code> attribute, whose value would fill in the field before we type anything in it and thus provides a useful hint. Now we need some JS codes to capture the <code>keypress</code> event of the <code>&lt;input&gt;</code> element, and try to style all the elements of a tag name in the <code>&lt;input&gt;</code> element every time we type something in it:</p>
					<code>
						var inputEm = document.getElementById('styleTag'); // Get the 'input' element<br/>
						var targetTag; // The value of the 'targetTag' variable will be retrieved from the 'input' field<br/>
						function styleEm () { // The listener function that styles all found elements
							<code>
								targetTag = inputEm.value; // The value of 'targetTag' is the texts from the 'styleTag' input field<br/>
								let Ems = document.getElementsByTagName(targetTag); // Get all elements by 'targetTag'<br/>
								// You MUST check whether 'Ems' is 'null' or not, but I skip this step here<br/>
								for(let i=0 ; i < Ems.length ; i ++) { // Iterate through the element array
									<code>
										let currentEm = Ems[i]; <br/>
										currentEm.style.backgroundColor = 'red'; // Style every single selected element
									</code>
								}
							</code>
						}<br/>
						// Every time you press a key in the 'styleTag' element, the listener function is activated<br/>
						inputEm.addEventListener('keypress', styleEm);
					</code>
					<p>This function currently can style all elements that are found to have the target tag, but it cannot <em>reset</em> the style if a new target tag is obtained. I want you to make this possible by modifying the JS codes in the above (<em>Hint:</em> You need to restore the default style of the current target tag before using a new target tag to style the other set of elements).</p>
					<p>Now we can try to demonstrate the full function of a <code>&lt;form&gt;</code> element by including the <code>text</code> field and a <code>submit</code> and <code>reset</code> button in it:</p>
					<code>
						&lt;form&gt;
						<code>
							&lt;input type="text" id="styleTag" placeholder="enter a tag name..." /&gt;<br/>
							&lt;input type="submit" id="submitTag" value="Submit" /&gt;<br/>
							&lt;input type="reset" id="resetTag" value="Reset" /&gt;
						</code>
						&lt;/form&gt;
					</code>
					<p>For the <code>submit</code> and <code>reset</code> types of the <code>&lt;input&gt;</code> element, the attribute <code>value</code> determines their texts. Now, if we type some texts in the <code>text</code> field, and hit the <code>reset</code> button, the texts will be cleared completely. If an <code>&lt;input&gt;</code> field has a default <code>value</code> attribute, then clicking on the <code>reset</code> button will reset the <code>&lt;input&gt;</code> field back to its default value. If you place the <code>reset</code> button outside the <code>&lt;form&gt;</code> element, the default resetting behavior doesn't work:</p>
					<code>
						&lt;form&gt;
						<code>
							&lt;input type="text" id="styleTag" placeholder="enter a tag name..." /&gt;<br/>
							&lt;input type="submit" id="submitTag" value="Submit" /&gt;
						</code>
						&lt;/form&gt;<br/>
						&lt;input type="reset" id="resetTag" value="Reset" /&gt; &lt;!-- This does not work --&gt;
					</code>
					<p>Now let's try the <code>submit</code> button - clicking on it (or hit the <em>enter</em> key in the text input field) will reload the entire page, which is the result of submitting of the entire form for data processing by default (just like the form you submit when you sign up for an account in a website). But this is not our case; we don't need to submit a form to somewhere else for data processing. We just want to input some tag name to style HTML elements. So, we need to prevent this default behvaior from happening. Do you still remember the <code>event</code> object that will be passed to a listener function when an event is triggered? We need to use the <code>preventDefault()</code> function of this object to stop the default behavior of a <code>submit</code> button:</p>
					<code>
						var submitButton = document.getElementById('submitTag'); // Get the submit button<br/>
						submitButton.addEventListener('click', function(event) { // Add a 'click' event listener
							<code>
								event.preventDefault(); // Stop the default behavior of the button
							</code>
						});
					</code>
					<p>The preparation work is now completed. We can further add the JS codes required to get the input texts as the tag name, and style the corresponding elements. After we retrieve the text input element in the JS code, we can retrieve texts of the element with the <code>value</code> property of the element:</p>
					<code>
						...<br/>
						submitButton.addEventListener('click', function(event) { // Add a 'click' event listener
							<code>
								event.preventDefault(); // Stop the default behavior of the button
								let targetTag = document.getElementById('styleTag').value; // Get the value of the input field
								// Complete the rest of the styling codes by yourself...
							</code>
						});
					</code>
					<p>Now that we have completed the styling part, we probably want the <code>reset</code> button to do a better job. Instead of just resetting the text input fields back to their default value, we hope to change the styled elements back to its default background color, too. In our earlier challenge, you have already done something very similar, but this time you need to do it in an <em>event listener</em> linked to the <code>reset</code> button:</p>
					<code>
						var resetButton = document.getElementById('resetTag'); // Get the 'reset' button<br/>
						resetButton.addEventListener('click', function() { // Add a 'click' event listener
							<code>
								// Try to complete the codes for resetting the background color by yourself!
							</code>
						});
					</code>
					<p>Before I conclude this unit, let me leave this main challenge to you:</p>
					<ol>
						<li>Find six pictures that can be categorized into two groups.</li>
						<li>Insert each of them into a webpage using an <code>&lt;img&gt;</code> element, and add the group label as their <code>class</code> attribute.</li>
						<li>Create a <code>text</code> input field, a <code>submit</code> button, and a <code>reset</code> button in a <code>&lt;form&gt;</code> element.</li>
						<li>In the <code>text</code> input field, when you enter a group label, all <code>&lt;img&gt;</code> elements with the corresponding <code>class</code> attribute remain non-transparent, whereas others become <em>half-transparent</em>.</li>
						<li>The CSS property you need in this challenge would be <code>opacity</code> - 1 = non-transparent, 0 = fully transparent.</li>
						<li>Remember, to set a CSS property in JS codes, the value of the property should be enclosed inside <code>''</code>, just like <code>'1'</code>.</li>
					</ol>
				</section>
				<section>
					<h2 id="forthenextunit">For the next unit...</h2>
					<p>You have walked even further in this journey of Web design, and you have the <q>wherewithal</q> to complete your website projects. So, what I need to see before the next unit is:</p>
					<ul>
						<li>Complete the template of your personal website!</li>
					</ul>
					<p><button onclick="cssbasics()">>> jQuery</button></p>
					<script>
						function cssbasics() {
							window.location.href = '/bwd/jquery/';
						}
					</script>
				</section>
				<sub>All Copyright Reserved; Tsung-Ying Chen 2021</sub>
			</article>
		</div>
	</body>
</html>